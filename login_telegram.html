<!DOCTYPE html>
<html lang="en">
<head>
    <title>Flutter App Telegram Login</title>
</head>
<body onload="onload()">
  <!-- <script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="internation_app_bot" data-size="large" data-onauth="onTelegramAuth(user)" data-request-access="write"></script> -->

  <script type="text/javascript">
    function receiveIframeMessage(event) {
      console.log(event.origin);
      console.log(event.source);
      console.log(event.data);
    }
    
    function onload() {
      window.addEventListener("message", receiveIframeMessage, false);
      // window.Telegram.Login.auth({bot_id:"6336898984",request_access:"write",lang:"en"})
      window.open("https://oauth.telegram.org/auth?bot_id=6336898984&origin=http%3A%2F%2F18.163.211.5&request_access=write&lang=en&return_to=http%3A%2F%2F18.163.211.5%2Flogin_telegram.html");
    }
    function onTelegramAuth(user) {
      alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
      WebChannel.postMessage(JSON.stringify(user), "*");
    }

    
  </script>
  
<!--<div id="flutter_telegram_login_div_iframe"></div>-->

</body>
</html>